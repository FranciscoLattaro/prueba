"use strict";(self.webpackChunkaccesa_docs=self.webpackChunkaccesa_docs||[]).push([[2623],{309:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>c,toc:()=>d});var r=s(4848),i=s(8453);const l={id:"dashboard-process",title:"Documentaci\xf3n de los Endpoint del Dashboard Process"},a="Documentaci\xf3n de los Endpoint del Dashboard Process",c={id:"accesa-docs/desarrollo/Dashboard/dashboard-process",title:"Documentaci\xf3n de los Endpoint del Dashboard Process",description:"Introducci\xf3n",source:"@site/docs/accesa-docs/desarrollo/Dashboard/dashboard-process.md",sourceDirName:"accesa-docs/desarrollo/Dashboard",slug:"/accesa-docs/desarrollo/Dashboard/dashboard-process",permalink:"/docs/accesa-docs/desarrollo/Dashboard/dashboard-process",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"dashboard-process",title:"Documentaci\xf3n de los Endpoint del Dashboard Process"},sidebar:"desarrolloSidebar",previous:{title:"Capital Humano",permalink:"/docs/accesa-docs/desarrollo/Dashboard/dashboard-accesa"},next:{title:"Ayuda a Primera Infancia",permalink:"/docs/accesa-docs/desarrollo/APInfancia"}},o={},d=[{value:"Introducci\xf3n",id:"introducci\xf3n",level:2},{value:"Requisitos",id:"requisitos",level:2},{value:"Instalaci\xf3n",id:"instalaci\xf3n",level:2},{value:"Configuraci\xf3n",id:"configuraci\xf3n",level:2},{value:"Uso",id:"uso",level:2},{value:"Estructura de Componentes",id:"estructura-de-componentes",level:2},{value:"Descripci\xf3n de los controladores y endpoints",id:"descripci\xf3n-de-los-controladores-y-endpoints",level:2},{value:"CallsEncuestaController (<code>/callsEncuesta</code>)",id:"callsencuestacontroller-callsencuesta",level:2},{value:"<code>getCalls</code>",id:"getcalls",level:3},{value:"<code>getCallById</code>",id:"getcallbyid",level:3},{value:"<code>getChatsOffered</code>",id:"getchatsoffered",level:3},{value:"<code>getCallsSummary</code>",id:"getcallssummary",level:3},{value:"RealTimeController (<code>/realTime</code>)",id:"realtimecontroller-realtime",level:2},{value:"<code>getRealTime</code>",id:"getrealtime",level:3},{value:"SpeechController (<code>/speech</code>)",id:"speechcontroller-speech",level:2},{value:"<code>getCalls</code>",id:"getcalls-1",level:3},{value:"Servicios y Dependencias",id:"servicios-y-dependencias",level:2},{value:"Pruebas",id:"pruebas",level:2},{value:"Despliegue",id:"despliegue",level:2}];function t(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"documentaci\xf3n-de-los-endpoint-del-dashboard-process",children:"Documentaci\xf3n de los Endpoint del Dashboard Process"})}),"\n",(0,r.jsx)(n.h2,{id:"introducci\xf3n",children:"Introducci\xf3n"}),"\n",(0,r.jsx)(n.p,{children:"El proyecto es un proceso que se encarga de cargar informaci\xf3n desde las distintas plataformas (ucontact, ipcontact, genesys) hacia las tablas que se utilizan en el Dashboard Accesa. Por otro lado, contiene endpoints que se utilizan tanto para obtener informaci\xf3n \xfatil para el mismo dashboard, como para procesos internos de la empresa que requieren informaci\xf3n de genesys."}),"\n",(0,r.jsx)(n.h2,{id:"requisitos",children:"Requisitos"}),"\n",(0,r.jsx)(n.p,{children:"El proyecto est\xe1 realizado con:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Java 17."}),"\n",(0,r.jsx)(n.li,{children:"Spring Boot 3.3.0."}),"\n",(0,r.jsx)(n.li,{children:"Maven."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"instalaci\xf3n",children:"Instalaci\xf3n"}),"\n",(0,r.jsxs)(n.p,{children:["El proyecto se encuentra en ",(0,r.jsx)(n.a,{href:"https://github.com/Accesa-Desarrollo/Dashboard-Process",children:"Github"}),", se debe clonar el repo. Es necesario tener instalado Java 17."]}),"\n",(0,r.jsx)(n.h2,{id:"configuraci\xf3n",children:"Configuraci\xf3n"}),"\n",(0,r.jsxs)(n.p,{children:["El proyecto cuenta con un archivo ",(0,r.jsx)(n.code,{children:"application.properties"})," de ra\xedz. Adem\xe1s de este, se encuentran dos archivos ",(0,r.jsx)(n.code,{children:".properties"})," (",(0,r.jsx)(n.code,{children:"application-dev.properties"})," y ",(0,r.jsx)(n.code,{children:"application-prod.properties"}),"). En la ra\xedz, se le agrega un valor a la variable ",(0,r.jsx)(n.code,{children:"spring.profiles.active"}),", que puede ser ",(0,r.jsx)(n.code,{children:"dev"})," o ",(0,r.jsx)(n.code,{children:"prod"}),". De esto depende a qu\xe9 archivo ",(0,r.jsx)(n.code,{children:".properties"})," apuntar\xe1 el proyecto."]}),"\n",(0,r.jsxs)(n.p,{children:["Dentro de los ",(0,r.jsx)(n.code,{children:".properties"})," se encuentran datos sensibles (acceso a base de datos, API keys) y globales (como los drivers)."]}),"\n",(0,r.jsx)(n.h2,{id:"uso",children:"Uso"}),"\n",(0,r.jsxs)(n.p,{children:["Para inicializar el proyecto, con el mismo abierto en un IDE, haz clic derecho en la clase ",(0,r.jsx)(n.code,{children:"DashboardProcessApplication.java"})," -> ",(0,r.jsx)(n.code,{children:"Run as"})," -> ",(0,r.jsx)(n.code,{children:"Java Application"})," o ",(0,r.jsx)(n.code,{children:"Spring Boot App"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"estructura-de-componentes",children:"Estructura de Componentes"}),"\n",(0,r.jsxs)(n.p,{children:["El proyecto se inicializa desde el paquete ",(0,r.jsx)(n.code,{children:"com.main"}),". Los controladores correspondientes se encuentran en ",(0,r.jsx)(n.code,{children:"com.controllers"}),". La l\xf3gica de los endpoints que se encuentran en los controladores est\xe1 en el paquete ",(0,r.jsx)(n.code,{children:"com.APIServicesImpl"}),". Los objetos a utilizar para requerir y responder datos se encuentran en el paquete ",(0,r.jsx)(n.code,{children:"com.beans"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"descripci\xf3n-de-los-controladores-y-endpoints",children:"Descripci\xf3n de los controladores y endpoints"}),"\n",(0,r.jsxs)(n.p,{children:["Para utilizar los endpoints, se accede desde la URL: ",(0,r.jsx)(n.code,{children:"<code>http://ip:port/controllerMapping/endpointMapping</code>"}),". Siendo ",(0,r.jsx)(n.code,{children:"controllerMapping"})," el valor del controlador y ",(0,r.jsx)(n.code,{children:"endpointMapping"})," el valor de la funci\xf3n."]}),"\n",(0,r.jsxs)(n.p,{children:["Dependiendo de si es ",(0,r.jsx)(n.code,{children:"GET"})," o ",(0,r.jsx)(n.code,{children:"POST"}),", se colocar\xe1n los par\xe1metros (en el body o en la URL)."]}),"\n",(0,r.jsxs)(n.h2,{id:"callsencuestacontroller-callsencuesta",children:["CallsEncuestaController (",(0,r.jsx)(n.code,{children:"/callsEncuesta"}),")"]}),"\n",(0,r.jsx)(n.h3,{id:"getcalls",children:(0,r.jsx)(n.code,{children:"getCalls"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": GET"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Par\xe1metros"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"minutos"}),": cantidad de minutos a restar a la hora actual (el intervalo ser\xeda desde la fecha actual menos la cantidad de minutos, hasta el momento en que se realiza la request)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"porcentaje"}),": refiere a la cantidad de llamadas que se necesitan obtener."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"service"}),": servicio de la plataforma Genesys."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"encuesta"}),": tipo de encuesta (SMS, VB o Fijo)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Retorno"}),": Retorna una lista de objetos de tipo ",(0,r.jsx)(n.code,{children:"CallsEncuestaBean"})," (idLlamada, n\xfamero de tel\xe9fono, id del agente, fecha y habilidad \u2013queue\u2013)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Descripci\xf3n"}),": Este endpoint se utiliza para obtener informaci\xf3n de las llamadas que cumplen los par\xe1metros mencionados anteriormente."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"D\xf3nde se utiliza"}),": Proceso ",(0,r.jsx)(n.code,{children:"CargaEncuestasPorSms"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"getcallbyid",children:(0,r.jsx)(n.code,{children:"getCallById"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": GET"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Par\xe1metros"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"callID"}),": id de la llamada a consultar (de Genesys)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Retorno"}),": Retorna un objeto de tipo ",(0,r.jsx)(n.code,{children:"CallsEncuestaBean"})," (idLlamada, n\xfamero de tel\xe9fono, id del agente, fecha y habilidad \u2013queue\u2013)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Descripci\xf3n"}),": Este endpoint se utiliza para obtener informaci\xf3n de una llamada espec\xedfica por ID para la plataforma Genesys."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"D\xf3nde se utiliza"}),": Proceso ",(0,r.jsx)(n.code,{children:"ReporteEncuesta"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"getchatsoffered",children:(0,r.jsx)(n.code,{children:"getChatsOffered"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": GET"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Par\xe1metros"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"from"}),": fecha desde (formato YYYY-MM-DD)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"to"}),": fecha hasta (formato YYYY-MM-DD)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"accumulated"}),": booleano que retorna informaci\xf3n acumulada por d\xeda o sumada en el rango."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Retorno"}),": Retorna una colecci\xf3n con los valores de fecha (por d\xeda o del rango total), y la cantidad de chats ofrecidos."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Descripci\xf3n"}),": Este endpoint se utiliza para obtener la cantidad de chats ofrecidos en un rango de d\xedas, de forma acumulada o detallada por d\xeda."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"D\xf3nde se utiliza"}),": Proceso ",(0,r.jsx)(n.code,{children:"ReporteEncuesta"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"getcallssummary",children:(0,r.jsx)(n.code,{children:"getCallsSummary"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": GET"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Par\xe1metros"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"day"}),": fecha en formato YYYY-MM-DD."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"service"}),": servicio de Genesys."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Retorno"}),": Retorna un objeto de tipo ",(0,r.jsx)(n.code,{children:"CallsSummaryBean"})," (ofrecidas a m\xf3viles, contestadas desde m\xf3viles, ofrecidas a fijos, contestadas desde fijos)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Descripci\xf3n"}),": Este endpoint se utiliza para obtener el resumen de llamadas del d\xeda anterior."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"D\xf3nde se utiliza"}),": Proceso ",(0,r.jsx)(n.code,{children:"ReporteEncuesta"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"realtimecontroller-realtime",children:["RealTimeController (",(0,r.jsx)(n.code,{children:"/realTime"}),")"]}),"\n",(0,r.jsx)(n.h3,{id:"getrealtime",children:(0,r.jsx)(n.code,{children:"getRealTime"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": GET"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Par\xe1metros"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"platform"}),": plataforma a consultar (ipcontact, ucontact, genesys)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"service"}),": servicio a consultar."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Retorno"}),": Retorna un JSON que contiene la cantidad de agentes disponibles, no disponibles, interactuando y la cantidad de clientes en espera para el servicio y plataforma requerida."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Descripci\xf3n"}),": Este endpoint se utiliza para obtener informaci\xf3n espec\xedfica en tiempo real de un servicio."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"D\xf3nde se utiliza"}),": Frontend Dashboard (Secci\xf3n Hoy -> En este momento)."]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"speechcontroller-speech",children:["SpeechController (",(0,r.jsx)(n.code,{children:"/speech"}),")"]}),"\n",(0,r.jsx)(n.h3,{id:"getcalls-1",children:(0,r.jsx)(n.code,{children:"getCalls"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": POST"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Par\xe1metros"})," (en el body):","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SpeechRequest"}),": specificDay, service, quantCalls.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"specificDay"}),": fecha en formato YYYY-MM-DD."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"service"}),": servicio de Genesys."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"quantCalls"}),": cantidad de informaci\xf3n a obtener."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Retorno"}),": Retorna una lista de tipo ",(0,r.jsx)(n.code,{children:"SpeechResponse"})," (uniqueID, startDate, endDate, agentName, agentID, ani, dnis, campana, holdTime, extensi\xf3n, direction, waitTime, duracionGrabacion, filename, motivoCierre, origenCorte, duracionTotal), que refiere a informaci\xf3n espec\xedfica de cada llamada. Dnis es el servicio, direction es si la llamada es saliente (2) o entrante (1)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Descripci\xf3n"}),": Este endpoint se utiliza para obtener informaci\xf3n de una cantidad espec\xedfica de llamadas, para un servicio y un d\xeda."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"D\xf3nde se utiliza"}),": Proceso ",(0,r.jsx)(n.code,{children:"ProcesoCargaGrabacionesSpeechAnalytics"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"servicios-y-dependencias",children:"Servicios y Dependencias"}),"\n",(0,r.jsxs)(n.p,{children:["Las dependencias utilizadas en el proyecto se encuentran en el ",(0,r.jsx)(n.code,{children:"pom.xml"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"pruebas",children:"Pruebas"}),"\n",(0,r.jsx)(n.p,{children:"[Instrucciones para correr pruebas funcionales, unitarias y de integraci\xf3n.]"}),"\n",(0,r.jsx)(n.h2,{id:"despliegue",children:"Despliegue"}),"\n",(0,r.jsx)(n.p,{children:"El despliegue es realizado con Docker por el Jefe de Desarrollo."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var r=s(6540);const i={},l=r.createContext(i);function a(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);